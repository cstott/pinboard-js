<html>
	<head>
		<meta charset="utf-8">
		<title>Pinboard List</title>
		
		<script src="../pinboard.js" type="text/javascript"></script>
		<script type="text/javascript">
			function onload() {
				var pinboard = new Pinboard("username");
				pinboard.login("password", function (token, error) {
					if (error) {
						return alert("ERROR: " + error.status + " - " + error.message);
					}

					pinboard.list_posts(function (posts, error) {
						console.log(posts);
						for (var i = 0; i < posts.length; i++) {
							document.getElementById("list").innerHTML += "<li><a href=\"" + posts[i].href + "\">" + posts[i].description + "</a></li>";
						}
					}, [{ name: "results", value: "3"}]);  // Optional array of parameters.
				});
			}
		</script>
	</head>
	<body onload="onload()">
		<ul id="list"></ul>
	</body>
</html>